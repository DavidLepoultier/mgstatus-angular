<wrapper [class]='myClass'>
  <div class="header"></div>
  <div class="page">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-1 col-xl-2 min-heigth"></div>
        <div class="col-md-10 col-xl-8">
          <div class="mid-left-width">
            <mat-form-field class="full-width">
              <mat-label>Filter</mat-label>
              <input matInput (keyup)="applyFilter($event)">
            </mat-form-field>
          </div>
          <div class="mid-rigth-width">
            <mat-paginator [pageSizeOptions]="pageSizeOptions"></mat-paginator>
          </div>
          <table mat-table
                [dataSource]="dataSource" matSort multiTemplateDataRows 
                class="mat-elevation-z8 mb-4">
            <ng-container matColumnDef="{{column}}" *ngFor="let column of columnsToDisplay">
              <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-muted font-weight-bold"> {{column}} </th>
              <td mat-cell *matCellDef="let element" class="text-muted font-weight-bold"> {{element[column]}} </td>
            </ng-container>
            <!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
            <ng-container matColumnDef="expandedDetail">
              <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length">
                <div class="example-element-detail"
                    [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
                  <div class="example-element-description pt-0">
                    <p class="text-muted font-weight-bold mb-0">Name:</p>
                    <input matInput placeholder="Role's name" [(ngModel)]="element.name">
                    <p class="text-muted font-weight-bold mb-0">Level:</p>
                    <input matInput placeholder="Level" [(ngModel)]="element.level">
                    <mat-divider class="mb-2"></mat-divider>
                    <p class="text-muted font-weight-bold mb-0">Organizations:</p>
                    <section class="example-section">
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.organizations.POST">Create</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.organizations.PUT">Update</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.organizations.DELETE">Delete</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.organizations.GET">Get</mat-checkbox>
                    </section>

                    <mat-divider class="mb-2"></mat-divider>
                    <p class="text-muted font-weight-bold mb-0">History:</p>
                    <section class="example-section">
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.history.POST">Create</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.history.PUT">Update</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.history.DELETE">Delete</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.history.GET">Get</mat-checkbox>
                    </section>
                    <mat-divider class="mb-2"></mat-divider>
                    <p class="text-muted font-weight-bold mb-0">Members:</p>
                    <section class="example-section">
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.members.POST">Create</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.members.PUT">Update</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.members.DELETE">Delete</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.members.GET">Get</mat-checkbox>
                    </section>
                    <mat-divider class="mb-2"></mat-divider>
                    <p class="text-muted font-weight-bold mb-0">Consumers:</p>
                    <section class="example-section">
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.consumers.POST">Create</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.consumers.PUT">Update</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.consumers.DELETE">Delete</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.consumers.GET">Get</mat-checkbox>
                    </section>
                    <mat-divider class="mb-2"></mat-divider>
                    <p class="text-muted font-weight-bold mb-0">Routes:</p>
                    <section class="example-section">
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.routes.POST">Create</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.routes.PUT">Update</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.routes.DELETE">Delete</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.routes.GET">Get</mat-checkbox>
                    </section>
                    <mat-divider class="mb-2"></mat-divider>
                    <p class="text-muted font-weight-bold mb-0">Services:</p>
                    <section class="example-section">
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.services.POST">Create</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.services.PUT">Update</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.services.DELETE">Delete</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.services.GET">Get</mat-checkbox>
                    </section>
                    <mat-divider class="mb-2"></mat-divider>
                    <p class="text-muted font-weight-bold mb-0">Users:</p>
                    <section class="example-section">
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.users.POST">Create</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.users.PUT">Update</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.users.DELETE">Delete</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.users.GET">Get</mat-checkbox>
                    </section>
                    <mat-divider class="mb-2"></mat-divider>
                    <p class="text-muted font-weight-bold mb-0">Roles:</p>
                    <section class="example-section">
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.roles.POST">Create</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.roles.PUT">Update</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.roles.DELETE">Delete</mat-checkbox>
                      <mat-checkbox class="example-margin" color="orange" [(ngModel)]="element.roles.GET">Get</mat-checkbox>
                    </section>
                    <div class="text-center">
                      <button class="mb-4" color="orange" mat-raised-button (click)="modify(element)">
                        Update
                      </button>
                      <button class="ml-2 mb-4" color="warn" mat-raised-button (click)="deleteConfirm(element.id)">
                        Delete
                      </button>
                    </div>
                  </div>
                </div>
              </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
            <tr mat-row *matRowDef="let element; columns: columnsToDisplay;"
                class="example-element-row"
                [class.example-expanded-row]="expandedElement === element"
                (click)="expandedElement = expandedElement === element ? null : element">
            </tr>
            <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
          </table>
        </div>
        <div class="col-md-1 col-xl-2"></div>
      </div>
    </div>
  </div>
</wrapper>